import "imports/colors.onj" as color

!worldWidth = 160.0
!worldHeight = 90.0

viewport: $FitViewport {
    worldWidth: !worldWidth
    worldHeight: !worldHeight
    backgroundTexture: "background3"
}

!topRow = {
    width: !worldWidth
    cells: [
        {
            expandX: true
            element: $Label {
                text: ""
                font: "distance_field"
                color: !color.black
                fontScale: 0.2
            }
        }
        {
            align: "right"
            padTop: 3.0
            padRight: 3.0
            element: $Image {
                scalingWorkaround: true
                textureName: "logo"
                scaleX: 0.08
                scaleY: 0.08
            }
        }
    ]
}

!spacerRow = {
    cells: [
        {
            colspan: 2
            element: $Label {
                text: ""
                font: "distance_field"
                color: !color.black
                fontScale: 0.2
            }
        }
    ]
}

!middleRow = {
    cells: [
        {
            expandX: true
            element: $Label {
                text: ""
                font: "distance_field"
                color: !color.black
                fontScale: 0.2
            }
        }
        {
            align: "right"
            padRight: 3.0
            element: $Label {
                name: "load_game"
                text: "Continue"
                font: "distance_field"
                color: !color.black
                fontScale: 0.15
            }
        }
    ]
}

!middle2Row = {
    cells: [
        {
            expandX: true
            element: $Label {
                text: ""
                font: "distance_field"
                color: !color.black
                fontScale: 0.2
            }
        }
        {
            align: "right"
            height: <!worldHeight/5>
            padRight: 3.0
            element: $Label {
                name: "play"
                text: "Play"
                font: "distance_field"
                color: !color.black
                fontScale: 0.25
                behaviours: [
                    $OnClickChangeScreenBehaviour {
                        screenPath: "./screens/game_screen.onj"
                    }
                ]
            }
        }
    ]
}

!bottomRow = {
    cells : [
        {
            expandX: true
            element: $Label {
                text: ""
                font: "distance_field"
                color: !color.black
                fontScale: 0.2
            }
        }
        {
            align: "right"
            height: <!worldHeight/5>
            padRight: 3.0
            element: $Label {
                name: "quit"
                text: "Quit"
                font: "distance_field"
                color: !color.black
                fontScale: 0.15
                behaviours : [
                    $OnClickExitBehaviour { }
                ]
            }
        }
    ]
}

children: [
    $Table {
//        fillX: true
        fillY: true
        debug: true
        rows: [ !topRow, !spacerRow, !middleRow, !middle2Row, !bottomRow ]
    }
]

assets: {
    textures: []
    fonts: [
        $DistanceFieldFont {
            name: "distance_field"
            fontFile: "fonts/distanceField.fnt"
            imageFile: "fonts/distanceField.png"
        }
    ]
    textureAtlases: [
        {
            file: "textures/packed/title_screen/title_screen.atlas"
            defines: [ "background3" "logo"]
        }
    ]
    cursors: []
    postProcessors: []
    animations: []
    colorTextures: []
    particles: []
}

options: {
    setFillParentOnRoot: true
    defaultCursor: {
        useSystemCursor: true
        cursorName: "arrow"
    }
    postProcessor: null
    controller: null
}