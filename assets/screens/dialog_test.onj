import "imports/colors.onj" as color;
import "screens/input_maps.onj" as inputMaps;
import "dialog/dialog.onj" as dialogs;

use Common;
use Screen;
use Style;

var worldWidth = 160.0;
var worldHeight = 90.0;

assets: {
    useAssets: [
        "title_screen_background", "red_wing_cm", "hover_detail_background", "reserves_texture", "heart_texture"
    ]
},

viewport: $FitViewport {
    worldWidth: worldWidth,
    worldHeight: worldHeight
},

options: {
    transitionAwayTime: 1.0,
    background: "title_screen_background",
    inputMap: [
        ...(inputMaps.defaultInputMap)
    ]
},

root: $Box {
    styles: [
        {
            flexDirection: flexDirection.row,
            width: 100.0#percent,
            height: 100.0#percent,
            alignItems: align.flexEnd,
            justifyContent: justify.center
        }
    ]
} children [

    $DialogWidget {
        styles: [
            {
                flexDirection: flexDirection.row,
                background: "hover_detail_background",
                width: 80.0#percent,
//                minHeight: 5.0#points,
                positionBottom: 2.0#points,
                alignItems: align.center,
                justifyContent: justify.center,
                flexWrap: wrap.wrap,
                paddingLeft: 13.0#points,
                paddingRight: 13.0#points,
                paddingTop: 3.0#points,
                paddingBottom: 3.0#points,
            }
        ],
        dialog: {
            parts: {
                text: [
                    $Text { text: "Hello World! " },
                    $Text { text: "Goodbye World! ", color: color.red },
                    $Icon { icon: "reserves_texture" },
                    $Text { text: "Hello World!" },
                ],
                next: $FixedNextPart {
                    next: {
                        text: [
                            $Text { text: "Hello World! " },
                            $Text { text: "Goodbye World! ", color: color.red },
                            $Icon { icon: "reserves_texture" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                            $Text { text: "Hello World!" },
                        ],
                        next: $FixedNextPart {
                            next: {
                                text: [
                                    $Text { text: "Hello World! " },
                                    $Text { text: "Goodbye World! ", color: color.red },
                                    $Icon { icon: "reserves_texture" },
                                    $Text { text: "Hello World!" },
                                ],
                                next: $EndOfDialog { }
                            }
                        }
                    }
                }
            },
            defaults: {
                font: "red_wing_cm",
                fontScale: 0.1,
                color: color.black
            }
        },
        progressTime: 0.01,
        advanceArrowDrawable: "heart_texture",
        advanceArrowOffset: 1.0,
        touchable: "enabled"
//        progressTime: 0.09,
//        debug: true
    }

]
