
import "imports/colors.onj" as color
import "cards/cards.onj" as cards_obj

!cards = !cards_obj.cards
!baseSize = 569

baseImage: "base"
outputFile: "cards/generated/cards.atlas"

packer: {
    pageWidth: 2_000
    pageHeight: 2_000
    padding: 0
}

assets: {
    pixmaps: [

        {
            name: "base"
            file: "textures/cards/base_transparent.png"
        }
        {
            name: "obsidian_bullet"
            file: "textures/cards/obsidian_bullet.png"
        }
        {
            name: "bullet"
            file: "textures/cards/bullet.png"
        }

        {
            name: "bewitchedBullet"
            file: "textures/cards/bewitchedBullet.png"
        }
        {
            name: "explosiveBullet"
            file: "textures/cards/explosiveBullet.png"
        }
        {
            name: "incendiaryBullet"
            file: "textures/cards/incendiaryBullet.png"
        }
        {
            name: "leadersBullet"
            file: "textures/cards/leadersBullet.png"
        }
        {
            name: "rottenBullet"
            file: "textures/cards/rottenBullet.png"
        }

        {
            name: "workerBullet"
            file: "textures/cards/workerBullet.png"
        }
        {
            name: "bigBullet"
            file: "textures/cards/BIGBULLET.png"
        }
        {
            name: "diamondBullet"
            file: "textures/cards/diamondBullet.png"
        }
        {
            name: "silverBullet"
            file: "textures/cards/silverBullet.png"
        }

    ]
    fonts: [
        {
            name: "arial"
            file: "fonts/arial.fnt"
        },
        {
            name: "card_character"
            file: "fonts/card_character.fnt"
        }
    ]
}

!titleElementSharedKeys = {
    x: 10
    y: 10
    font: "card_character"
    fontScale: 1.0
}

!imageElementSharedKeys = {
    x: 0
    y: 0
    scaleX: 1.0
    scaleY: 1.0
}

!valueElementSharedKeys = {
    x: 35
    y: 480
    font: "card_character"
    fontScale: 1.5
}

!costElementSharedKeys = {
    x: 490
    y: 28
    font: "card_character"
    fontScale: 1.5
}

!normalBulletSize = 128
!obsidianBulletSize = 200
!obsidianBulletScale = 0.5

!bulletSharedElements = [
//
//    $ImageElement {
//        x: <!baseSize / 2 - !normalBulletSize / 2>
//        y: <!baseSize / 2 - !normalBulletSize / 2>
//        textureName: "bullet"
//        scaleX: 1.0
//        scaleY: 1.0
//    }

]

!coverSharedElements = [

    $ImageElement {
        x: <(!baseSize / 2 - !obsidianBulletSize * !obsidianBulletScale / 2)#i>
        y: <(!baseSize / 2 - !obsidianBulletSize * !obsidianBulletScale / 2)#i>
        textureName: "obsidian_bullet"
        scaleX: !obsidianBulletScale
        scaleY: !obsidianBulletScale
    }

]


cards: [

    // Bullets --------------------------

    {
        name: !cards.0.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.0.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.0.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.0.cost#s>
            }
        ]
    }

    {
        name: !cards.1.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.1.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.1.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.1.cost#s>
            }
        ]
    }

    {
        name: !cards.2.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.2.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.2.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.2.cost#s>
            }
        ]
    }

    {
        name: !cards.3.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.3.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.3.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.3.cost#s>
            }
        ]
    }

    {
        name: !cards.4.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.4.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.4.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.4.cost#s>
            }
        ]
    }

    {
        name: !cards.5.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.5.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.5.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.5.cost#s>
            }
        ]
    }

    {
        name: !cards.6.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.6.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.6.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.6.cost#s>
            }
        ]
    }

    {
        name: !cards.7.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.7.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.7.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.7.cost#s>
            }
        ]
    }

    {
        name: !cards.8.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.8.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.8.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.8.cost#s>
            }
        ]
    }

    {
        name: !cards.9.name
        elements: [
            ...!bulletSharedElements
            $ImageElement {
                textureName: !cards.9.name
                ...!imageElementSharedKeys
            }
            $TextElement {
                ...!valueElementSharedKeys
                text: <!cards.9.baseDamage#s>
            }
            $TextElement {
                ...!costElementSharedKeys
                text: <!cards.9.cost#s>
            }
        ]
    }
    
    // Cover --------------------------
    
    {
        name: !cards.10.name
        elements: [
            ...!coverSharedElements
            $TextElement {
                text: !cards.10.title
                ...!titleElementSharedKeys
            }
        ]
    }

    {
        name: !cards.11.name
        elements: [
            ...!coverSharedElements
            $TextElement {
                text: !cards.11.title
                ...!titleElementSharedKeys
            }
        ]
    }

    {
        name: !cards.12.name
        elements: [
            ...!coverSharedElements
            $TextElement {
                text: !cards.12.title
                ...!titleElementSharedKeys
            }
        ]
    }

    {
        name: !cards.13.name
        elements: [
            ...!coverSharedElements
            $TextElement {
                text: !cards.13.title
                ...!titleElementSharedKeys
            }
        ]
    }

    {
        name: !cards.14.name
        elements: [
            ...!coverSharedElements
            $TextElement {
                text: !cards.14.title
                ...!titleElementSharedKeys
            }
        ]
    }

]
